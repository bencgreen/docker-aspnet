#!/usr/bin/with-contenv sh

#======================================================================================================================
# Verify APP_ASSEMBLY is set
#======================================================================================================================

if [ -z "${APP_ASSEMBLY}" ] ; then
    echo " - APP_ASSEMBLY environment variable must be set."
    exit 1
fi


#======================================================================================================================
# Verify APP_ASSEMBLY exists
#======================================================================================================================

if [ ! -f "/src/${APP_ASSEMBLY}" ] ; then
    echo " - APP_ASSEMBLY could not be found: /src/${APP_ASSEMBLY}."
    exit 1
fi


#======================================================================================================================
# Run ASP.NET application
#======================================================================================================================

/usr/share/dotnet/dotnet /src/${APP_ASSEMBLY}
